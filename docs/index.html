<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>osu-parsers</title><meta name="description" content="Documentation for osu-parsers"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">osu-parsers</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>osu-parsers</h2></div><div class="tsd-panel tsd-typography"><a id="md:osu-parsers" class="tsd-anchor"></a><h1><a href="#md:osu-parsers">osu-parsers</a></h1><p><a href="https://www.codefactor.io/repository/github/kionell/osu-parsers"><img src="https://img.shields.io/codefactor/grade/github/kionell/osu-parsers" alt="CodeFactor"></a>
<a href="https://github.com/kionell/osu-parsers/blob/master/LICENSE"><img src="https://img.shields.io/github/license/kionell/osu-parsers" alt="License"></a>
<a href="https://www.npmjs.com/package/osu-parsers"><img src="https://img.shields.io/npm/v/osu-parsers" alt="Package"></a></p>
<p>A bundle of decoders/encoders for osu! file formats based on the osu!lazer source code.</p>
<ul>
<li>Written in TypeScript.</li>
<li>Based on the osu!lazer source code.</li>
<li>Allows you to parse beatmaps of any osu! game mode.</li>
<li>Supports beatmap conversion between different game modes.</li>
<li>Works in browsers.</li>
</ul>
<a id="md:installation" class="tsd-anchor"></a><h2><a href="#md:installation">Installation</a></h2><p>Add a new dependency to your project via npm:</p>
<pre><code class="language-bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">osu-parsers</span>
</code><button>Copy</button></pre>
<a id="md:dependencies" class="tsd-anchor"></a><h2><a href="#md:dependencies">Dependencies</a></h2><p>This package comes with built-in LZMA codec as it is required for replay processing.
All classes and their typings can be found in <a href="https://github.com/kionell/osu-classes">osu-classes</a> package which is a peer dependency and must be installed separately.</p>
<a id="md:supported-file-formats" class="tsd-anchor"></a><h2><a href="#md:supported-file-formats">Supported file formats</a></h2><ul>
<li><a href="https://osu.ppy.sh/wiki/en/Client/File_formats/osu_%28file_format%29">.osu</a> - fully supported (decoding/encoding)</li>
<li><a href="https://osu.ppy.sh/wiki/en/Client/File_formats/osb_%28file_format%29">.osb</a> - fully supported (decoding/encoding)</li>
<li><a href="https://osu.ppy.sh/wiki/en/Client/File_formats/osr_%28file_format%29">.osr</a> - fully supported (decoding/encoding)</li>
</ul>
<a id="md:beatmap-decoding" class="tsd-anchor"></a><h2><a href="#md:beatmap-decoding">Beatmap decoding</a></h2><p>Beatmap decoder is used to read <code>.osu</code> files and convert them to the objects of plain <a href="https://kionell.github.io/osu-classes/classes/Beatmap.html">Beatmap</a> type.
Note that plain beatmap objects can&#39;t be used to get max combo, star rating and performance as they don&#39;t have ruleset specific data. To get correct beatmap data, beatmap objects should be converted using one of the supported <a href="https://github.com/kionell/osu-parsers#rulesets">rulesets</a>.</p>
<p>There are 4 ways to read data using this decoders:</p>
<ul>
<li>via file path - async</li>
<li>via data buffer - sync</li>
<li>via string - sync</li>
<li>via array of split lines - sync</li>
</ul>
<p>By default, beatmap decoder will decode both beatmap and storyboard. If you want to decode beatmap without storyboard, you can pass <code>false</code> as the second parameter to any of the methods.
There is also a support for partial beatmap decoding which allows you to skip unnecessary sections.</p>
<a id="md:example-of-beatmap-decoding" class="tsd-anchor"></a><h3><a href="#md:example-of-beatmap-decoding">Example of beatmap decoding</a></h3><pre><code class="language-js"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">BeatmapDecoder</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;osu-parsers&#39;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">path</span><span class="hl-1"> = </span><span class="hl-2">&#39;path/to/your/file.osu&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">data</span><span class="hl-1"> = </span><span class="hl-2">&#39;osu file format v14...&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">// This is optional and true by default.</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">shouldParseSb</span><span class="hl-1"> = </span><span class="hl-5">true</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">decoder</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">BeatmapDecoder</span><span class="hl-1">();</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">beatmap1</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">decoder</span><span class="hl-1">.</span><span class="hl-0">decodeFromPath</span><span class="hl-1">(</span><span class="hl-4">path</span><span class="hl-1">, </span><span class="hl-4">shouldParseSb</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// Partial beatmap decoding without unnecessary sections.</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">beatmap2</span><span class="hl-1"> = </span><span class="hl-4">decoder</span><span class="hl-1">.</span><span class="hl-0">decodeFromString</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-4">parseGeneral:</span><span class="hl-1"> </span><span class="hl-5">false</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">parseEditor:</span><span class="hl-1"> </span><span class="hl-5">false</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">parseMetadata:</span><span class="hl-1"> </span><span class="hl-5">false</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">parseDifficulty:</span><span class="hl-1"> </span><span class="hl-5">false</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">parseEvents:</span><span class="hl-1"> </span><span class="hl-5">false</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">parseTimingPoints:</span><span class="hl-1"> </span><span class="hl-5">false</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">parseHitObjects:</span><span class="hl-1"> </span><span class="hl-5">false</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">parseStoryboard:</span><span class="hl-1"> </span><span class="hl-5">false</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">parseColours:</span><span class="hl-1"> </span><span class="hl-5">false</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">beatmap1</span><span class="hl-1">) </span><span class="hl-7">// Beatmap object.</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">beatmap2</span><span class="hl-1">) </span><span class="hl-7">// Another Beatmap object.</span>
</code><button>Copy</button></pre>
<a id="md:storyboard-decoding" class="tsd-anchor"></a><h2><a href="#md:storyboard-decoding">Storyboard decoding</a></h2><p>Storyboard decoder is used to read both <code>.osu</code> and <code>.osb</code> files and convert them to the <a href="https://kionell.github.io/osu-classes/classes/Storyboard.html">Storyboard</a> objects.</p>
<p>As in beatmap decoder, there are 4 ways to decode your <code>.osu</code> and <code>.osb</code> files:</p>
<ul>
<li>via file path - async</li>
<li>via data buffer - sync</li>
<li>via string - sync</li>
<li>via array of split lines - sync</li>
</ul>
<a id="md:example-of-storyboard-decoding" class="tsd-anchor"></a><h3><a href="#md:example-of-storyboard-decoding">Example of storyboard decoding</a></h3><pre><code class="language-js"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">StoryboardDecoder</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;osu-parsers&#39;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">pathToOsb</span><span class="hl-1"> = </span><span class="hl-2">&#39;path/to/your/file.osb&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">pathToOsu</span><span class="hl-1"> = </span><span class="hl-2">&#39;path/to/your/file.osu&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">decoder</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">StoryboardDecoder</span><span class="hl-1">();</span><br/><br/><span class="hl-7">// Parse a single storyboard file (from .osb) for beatmaps that doesn&#39;t have internal storyboard (from .osu)</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">storyboard1</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">decoder</span><span class="hl-1">.</span><span class="hl-0">decodeFromPath</span><span class="hl-1">(</span><span class="hl-4">pathToOsb</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// Combines main storyboard (from .osu) with secondary storyboard (from .osb)</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">storyboard2</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">decoder</span><span class="hl-1">.</span><span class="hl-0">decodeFromPath</span><span class="hl-1">(</span><span class="hl-4">pathToOsu</span><span class="hl-1">, </span><span class="hl-4">pathToOsb</span><span class="hl-1">);</span><br/><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">storyboard1</span><span class="hl-1">); </span><span class="hl-7">// Storyboard object.</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">storyboard2</span><span class="hl-1">); </span><span class="hl-7">// Another Storyboard object.</span>
</code><button>Copy</button></pre>
<a id="md:score-amp-replay-decoding" class="tsd-anchor"></a><h2><a href="#md:score-amp-replay-decoding">Score &amp; replay decoding</a></h2><p>Score decoder is used to decode <code>.osr</code> files and convert them to the <a href="https://kionell.github.io/osu-classes/classes/Score.html">Score</a> objects.
Score object contains score information and replay data of plain <a href="https://kionell.github.io/osu-classes/classes/Replay.html">Replay</a> type.
Note that all <code>.osr</code> files contain raw legacy frame data that was initially intended for osu!standard only. To get correct data, replay objects should be converted using one of the supported <a href="https://github.com/kionell/osu-parsers#rulesets">rulesets</a>.
This decoder is based on external LZMA library and works asynchronously.</p>
<p>There are 2 ways to read data through this decoder:</p>
<ul>
<li>via file path - async</li>
<li>via buffer - async</li>
</ul>
<p>By default, score decoder will decode both score information and replay. If you want to decode score information without replay, you can pass <code>false</code> as the second parameter to any of the methods.</p>
<a id="md:example-of-score-amp-replay-decoding" class="tsd-anchor"></a><h3><a href="#md:example-of-score-amp-replay-decoding">Example of score &amp; replay decoding</a></h3><pre><code class="language-js"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">ScoreDecoder</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;osu-parsers&#39;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">path</span><span class="hl-1"> = </span><span class="hl-2">&#39;path/to/your/file.osr&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">// This is optional and true by default.</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">parseReplay</span><span class="hl-1"> = </span><span class="hl-5">true</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">decoder</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">ScoreDecoder</span><span class="hl-1">();</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">score</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">decoder</span><span class="hl-1">.</span><span class="hl-0">decodeFromPath</span><span class="hl-1">(</span><span class="hl-4">path</span><span class="hl-1">, </span><span class="hl-4">parseReplay</span><span class="hl-1">)</span><br/><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">score</span><span class="hl-1">.</span><span class="hl-4">info</span><span class="hl-1">); </span><span class="hl-7">// ScoreInfo object.</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">score</span><span class="hl-1">.</span><span class="hl-4">replay</span><span class="hl-1">); </span><span class="hl-7">// Replay object or null.</span>
</code><button>Copy</button></pre>
<a id="md:encoding" class="tsd-anchor"></a><h2><a href="#md:encoding">Encoding</a></h2><p>All objects parsed by these decoders can easily be stringified and written to the files.
Note that encoders will write object data without any changes. For example, if you try to encode beatmap with applied mods, it will write modded values!</p>
<p>When encoding is complete you can import resulting files to the game.</p>
<a id="md:example-of-beatmap-encoding" class="tsd-anchor"></a><h3><a href="#md:example-of-beatmap-encoding">Example of beatmap encoding</a></h3><pre><code class="language-js"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">BeatmapDecoder</span><span class="hl-1">, </span><span class="hl-4">BeatmapEncoder</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;osu-parsers&#39;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">decodePath</span><span class="hl-1"> = </span><span class="hl-2">&#39;path/to/your/file.osu&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">shouldParseSb</span><span class="hl-1"> = </span><span class="hl-5">true</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">decoder</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">BeatmapDecoder</span><span class="hl-1">();</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">encoder</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">BeatmapEncoder</span><span class="hl-1">();</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">beatmap</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">decoder</span><span class="hl-1">.</span><span class="hl-0">decodeFromPath</span><span class="hl-1">(</span><span class="hl-4">decodePath</span><span class="hl-1">, </span><span class="hl-4">shouldParseSb</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// Do your stuff with beatmap...</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">encodePath</span><span class="hl-1"> = </span><span class="hl-2">&#39;path/to/your/file.osu&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">// Write IBeatmap object to an .osu file.</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">encoder</span><span class="hl-1">.</span><span class="hl-0">encodeToPath</span><span class="hl-1">(</span><span class="hl-4">encodePath</span><span class="hl-1">, </span><span class="hl-4">beatmap</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// You can also encode IBeatmap object to a string.</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">stringified</span><span class="hl-1"> = </span><span class="hl-4">encoder</span><span class="hl-1">.</span><span class="hl-0">encodeToString</span><span class="hl-1">(</span><span class="hl-4">beatmap</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<a id="md:example-of-storyboard-encoding" class="tsd-anchor"></a><h3><a href="#md:example-of-storyboard-encoding">Example of storyboard encoding</a></h3><pre><code class="language-js"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">StoryboardDecoder</span><span class="hl-1">, </span><span class="hl-4">StoryboardEncoder</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;osu-parsers&#39;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">decodePath</span><span class="hl-1"> = </span><span class="hl-2">&#39;path/to/your/file.osb&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">decoder</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">StoryboardDecoder</span><span class="hl-1">();</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">encoder</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">StoryboardEncoder</span><span class="hl-1">();</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">storyboard</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">decoder</span><span class="hl-1">.</span><span class="hl-0">decodeFromPath</span><span class="hl-1">(</span><span class="hl-4">decodePath</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// Do your stuff with storyboard...</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">encodePath</span><span class="hl-1"> = </span><span class="hl-2">&#39;path/to/your/file.osb&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">// Write Storyboard object to an .osb file.</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">encoder</span><span class="hl-1">.</span><span class="hl-0">encodeToPath</span><span class="hl-1">(</span><span class="hl-4">encodePath</span><span class="hl-1">, </span><span class="hl-4">storyboard</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// You can also encode Storyboard object to a string.</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">stringified</span><span class="hl-1"> = </span><span class="hl-4">encoder</span><span class="hl-1">.</span><span class="hl-0">encodeToString</span><span class="hl-1">(</span><span class="hl-4">storyboard</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<a id="md:example-of-score-amp-replay-encoding" class="tsd-anchor"></a><h3><a href="#md:example-of-score-amp-replay-encoding">Example of score &amp; replay encoding</a></h3><pre><code class="language-js"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">ScoreDecoder</span><span class="hl-1">, </span><span class="hl-4">ScoreEncoder</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;osu-parsers&#39;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">decodePath</span><span class="hl-1"> = </span><span class="hl-2">&#39;path/to/your/file.osr&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">decoder</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">ScoreDecoder</span><span class="hl-1">();</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">encoder</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">ScoreEncoder</span><span class="hl-1">();</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">score</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">decoder</span><span class="hl-1">.</span><span class="hl-0">decodeFromPath</span><span class="hl-1">(</span><span class="hl-4">decodePath</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// Do your stuff with score info and replay...</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">encodePath</span><span class="hl-1"> = </span><span class="hl-2">&#39;path/to/your/file.osr&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">// Write IScore object to an .osr file.</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">encoder</span><span class="hl-1">.</span><span class="hl-0">encodeToPath</span><span class="hl-1">(</span><span class="hl-4">encodePath</span><span class="hl-1">, </span><span class="hl-4">score</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// You can also encode IScore object to a buffer.</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">buffer</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">encoder</span><span class="hl-1">.</span><span class="hl-0">encodeToBuffer</span><span class="hl-1">(</span><span class="hl-4">score</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<a id="md:rulesets" class="tsd-anchor"></a><h2><a href="#md:rulesets">Rulesets</a></h2><p>This library by itself doesn&#39;t provide any tools for difficulty and performance calculation!!!!
If you are looking for something related to this, then rulesets may come in handy for you.
Rulesets are separate libraries based on the classes from the <a href="https://github.com/kionell/osu-classes.git">osu-classes</a> project. They allow you to work with gamemode specific stuff as difficulty, performance, mods and max combo calculation. Because of the shared logic between all of the rulesets they are compatible between each other. If you want, you can even write your own custom ruleset!
The great thing about all this stuff is a beatmap and replay conversion. Any beatmap or replay can be used with any ruleset library as long as they implement the same interfaces.</p>
<p>There are 4 basic rulesets that support parsed beatmaps from this decoder:</p>
<ul>
<li><a href="https://github.com/kionell/osu-standard-stable.git">osu-standard-stable</a> - The osu!std ruleset based on the osu!lazer source code.</li>
<li><a href="https://github.com/kionell/osu-taiko-stable.git">osu-taiko-stable</a> - The osu!taiko ruleset based on the osu!lazer source code.</li>
<li><a href="https://github.com/kionell/osu-catch-stable.git">osu-catch-stable</a> - The osu!catch ruleset based on the osu!lazer source code.</li>
<li><a href="https://github.com/kionell/osu-mania-stable.git">osu-mania-stable</a> - The osu!mania ruleset based on the osu!lazer source code.</li>
</ul>
<p>You can also try existing <a href="https://github.com/kionell/osu-pp-calculator">osu-pp-calculator</a> package. It&#39;s a wrapper for all 4 rulesets above with a lot of extra useful stuff like score simulation and beatmap downloading.</p>
<a id="md:documentation" class="tsd-anchor"></a><h2><a href="#md:documentation">Documentation</a></h2><p>Auto-generated documentation is available <a href="https://kionell.github.io/osu-parsers/">here</a>.</p>
<a id="md:contributing" class="tsd-anchor"></a><h2><a href="#md:contributing">Contributing</a></h2><p>This project is being developed personally by me on pure enthusiasm. If you want to help with development or fix a problem, then feel free to create a new pull request. For major changes, please open an issue first to discuss what you would like to change.</p>
<a id="md:license" class="tsd-anchor"></a><h2><a href="#md:license">License</a></h2><p>This project is licensed under the MIT License - see the <a href="https://choosealicense.com/licenses/mit/">LICENSE</a> for details.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:osu-parsers"><span>osu-<wbr/>parsers</span></a><ul><li><a href="#md:installation"><span>Installation</span></a></li><li><a href="#md:dependencies"><span>Dependencies</span></a></li><li><a href="#md:supported-file-formats"><span>Supported file formats</span></a></li><li><a href="#md:beatmap-decoding"><span>Beatmap decoding</span></a></li><li><ul><li><a href="#md:example-of-beatmap-decoding"><span>Example of beatmap decoding</span></a></li></ul></li><li><a href="#md:storyboard-decoding"><span>Storyboard decoding</span></a></li><li><ul><li><a href="#md:example-of-storyboard-decoding"><span>Example of storyboard decoding</span></a></li></ul></li><li><a href="#md:score-amp-replay-decoding"><span>Score &amp; replay decoding</span></a></li><li><ul><li><a href="#md:example-of-score-amp-replay-decoding"><span>Example of score &amp; replay decoding</span></a></li></ul></li><li><a href="#md:encoding"><span>Encoding</span></a></li><li><ul><li><a href="#md:example-of-beatmap-encoding"><span>Example of beatmap encoding</span></a></li><li><a href="#md:example-of-storyboard-encoding"><span>Example of storyboard encoding</span></a></li><li><a href="#md:example-of-score-amp-replay-encoding"><span>Example of score &amp; replay encoding</span></a></li></ul></li><li><a href="#md:rulesets"><span>Rulesets</span></a></li><li><a href="#md:documentation"><span>Documentation</span></a></li><li><a href="#md:contributing"><span>Contributing</span></a></li><li><a href="#md:license"><span>License</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>osu-parsers</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer></footer><div class="overlay"></div></body></html>